{"ast":null,"code":"import _slicedToArray from\"D:/Mihai/pet-food/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useContext}from'react';import{firebaseAuth}from'../provider/authProvider';import{CurrentUserContext}from'../provider/authProvider';import{Redirect}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var LogIn=function LogIn(){var methods=useContext(firebaseAuth);var _useContext=useContext(CurrentUserContext),currentUser=_useContext.currentUser;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var handleSubmit=function handleSubmit(event){event.preventDefault();var result=methods.signin(email,password);console.log({result:result});setError({result:result});return;};if(currentUser){return/*#__PURE__*/_jsx(Redirect,{to:\"/Dashboard\"});}else{return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"center\",children:\"Log In\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[error&&/*#__PURE__*/_jsx(\"h4\",{className:\"center\",children:\"Username or password incorrect\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col s12 m8 l4 offset-l4\",children:/*#__PURE__*/_jsxs(\"form\",{id:\"log-in\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-field\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",className:\"validate\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Please enter your email\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-field\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",className:\"validate\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Please enter your password\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"input-field center\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn-large color green accent-4\",children:\"Submit\"})})]})})]})]});}};export default LogIn;","map":{"version":3,"sources":["D:/Mihai/pet-food/src/components/LogIn.js"],"names":["useState","useContext","firebaseAuth","CurrentUserContext","Redirect","LogIn","methods","currentUser","email","setEmail","password","setPassword","error","setError","handleSubmit","event","preventDefault","result","signin","console","log","e","target","value"],"mappings":"wIAAA,OAAQA,QAAR,CAAkBC,UAAlB,KAAmC,OAAnC,CACA,OAASC,YAAT,KAA6B,0BAA7B,CACA,OAAQC,kBAAR,KAAiC,0BAAjC,CACA,OAASC,QAAT,KAAyB,kBAAzB,C,6IAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,CAClB,GAAMC,CAAAA,OAAO,CAAGL,UAAU,CAACC,YAAD,CAA1B,CADkB,gBAEID,UAAU,CAACE,kBAAD,CAFd,CAEXI,WAFW,aAEXA,WAFW,eAIMP,QAAQ,CAAC,EAAD,CAJd,wCAIZQ,KAJY,eAINC,QAJM,8BAKYT,QAAQ,CAAC,EAAD,CALpB,yCAKZU,QALY,eAKHC,WALG,8BAMMX,QAAQ,CAAC,IAAD,CANd,yCAMZY,KANY,eAMNC,QANM,eAQhB,GAAMC,CAAAA,YAAY,CAAE,QAAdA,CAAAA,YAAc,CAACC,KAAD,CAAS,CAC3BA,KAAK,CAACC,cAAN,GACA,GAAMC,CAAAA,MAAM,CAAGX,OAAO,CAACY,MAAR,CAAeV,KAAf,CAAqBE,QAArB,CAAf,CACAS,OAAO,CAACC,GAAR,CAAY,CAACH,MAAM,CAANA,MAAD,CAAZ,EACAJ,QAAQ,CAAC,CAACI,MAAM,CAANA,MAAD,CAAD,CAAR,CACA,OACD,CAND,CAOF,GAAIV,WAAJ,CAAiB,CACf,mBAAO,KAAC,QAAD,EAAU,EAAE,CAAC,YAAb,EAAP,CACD,CAFD,IAEK,CACH,mBACE,wCACE,WAAI,SAAS,CAAC,QAAd,oBADF,cAEE,aAAK,SAAS,CAAC,KAAf,WACGK,KAAK,eAAI,WAAI,SAAS,CAAC,QAAd,4CADZ,cAEE,YAAK,SAAS,CAAC,yBAAf,uBACA,cAAM,EAAE,CAAC,QAAT,CAAkB,QAAQ,CAAEE,YAA5B,wBACE,aAAK,SAAS,CAAC,aAAf,wBACE,cAAO,IAAI,CAAC,OAAZ,CAAoB,EAAE,CAAC,OAAvB,CAA+B,SAAS,CAAC,UAAzC,CAAoD,KAAK,CAAEN,KAA3D,CAAkE,QAAQ,CAAG,kBAAAa,CAAC,QAAIZ,CAAAA,QAAQ,CAACY,CAAC,CAACC,MAAF,CAASC,KAAV,CAAZ,EAA9E,EADF,cAEE,cAAO,OAAO,CAAC,OAAf,qCAFF,GADF,cAKE,aAAK,SAAS,CAAC,aAAf,wBACE,cAAO,IAAI,CAAC,UAAZ,CAAuB,EAAE,CAAC,UAA1B,CAAqC,SAAS,CAAC,UAA/C,CAA0D,KAAK,CAAEb,QAAjE,CAA2E,QAAQ,CAAG,kBAAAW,CAAC,QAAIV,CAAAA,WAAW,CAACU,CAAC,CAACC,MAAF,CAASC,KAAV,CAAf,EAAvF,EADF,cAEE,cAAO,OAAO,CAAC,UAAf,wCAFF,GALF,cASE,YAAK,SAAS,CAAC,oBAAf,uBACE,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,gCAAhC,oBADF,EATF,GADA,EAFF,GAFF,GADF,CAuBD,CAEF,CA3CD,CA6CA,cAAelB,CAAAA,KAAf","sourcesContent":["import {useState, useContext} from 'react'\r\nimport { firebaseAuth } from '../provider/authProvider'\r\nimport {CurrentUserContext} from '../provider/authProvider'\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nconst LogIn = () => {\r\n  const methods = useContext(firebaseAuth)\r\n  const {currentUser} = useContext(CurrentUserContext)\r\n\r\n  const[email,setEmail] = useState(\"\")\r\n  const[password,setPassword] = useState(\"\")\r\n  const[error,setError] = useState(null)\r\n\r\n    const handleSubmit =(event)=>{\r\n      event.preventDefault()\r\n      const result = methods.signin(email,password)\r\n      console.log({result})\r\n      setError({result}) \r\n      return \r\n    }\r\n  if (currentUser) {\r\n    return <Redirect to=\"/Dashboard\" />;\r\n  }else{ \r\n    return(\r\n      <>\r\n        <h1 className=\"center\">Log In</h1>\r\n        <div className=\"row\">\r\n          {error && <h4 className=\"center\">Username or password incorrect</h4> }\r\n          <div className=\"col s12 m8 l4 offset-l4\">\r\n          <form id=\"log-in\" onSubmit={handleSubmit}>\r\n            <div className=\"input-field\">\r\n              <input type=\"email\" id=\"email\" className=\"validate\" value={email} onChange={ e => setEmail(e.target.value)}></input>\r\n              <label htmlFor=\"email\">Please enter your email</label>\r\n            </div>\r\n            <div className=\"input-field\">\r\n              <input type=\"password\" id=\"password\" className=\"validate\" value={password} onChange={ e => setPassword(e.target.value)}></input>\r\n              <label htmlFor=\"password\">Please enter your password</label>\r\n            </div>\r\n            <div className=\"input-field center\">\r\n              <button type=\"submit\" className=\"btn-large color green accent-4\" >Submit</button>\r\n            </div>\r\n          </form>\r\n         </div>\r\n        </div>\r\n      </>\r\n        )\r\n  }\r\n \r\n}\r\n \r\nexport default LogIn;"]},"metadata":{},"sourceType":"module"}