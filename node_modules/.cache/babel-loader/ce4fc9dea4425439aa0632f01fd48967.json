{"ast":null,"code":"import _regeneratorRuntime from\"D:/Mihai/pet-food/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/Mihai/pet-food/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/Mihai/pet-food/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{projectFirestore,projectStorage}from'../firebase/config';import{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddPet=function AddPet(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),age=_useState6[0],setAge=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),city=_useState8[0],setCity=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),phone=_useState10[0],setPhone=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),email=_useState12[0],setEmail=_useState12[1];var _useState13=useState(null),_useState14=_slicedToArray(_useState13,2),url=_useState14[0],setUrl=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),submitted=_useState16[0],setSubmitted=_useState16[1];var handleSubmit=function handleSubmit(e){e.preventDefault();// console.log(name,description,file.name)\nprojectFirestore.collection('pets').add({name:name,description:description,age:age,city:city,contact:phone,email:email,avatar:url});setSubmitted(true);};var fileHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var file,fileRef;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:file=e.target.files[0];fileRef=projectStorage.ref(file.name);_context.next=4;return fileRef.put(file);case 4:_context.t0=setUrl;_context.next=7;return fileRef.getDownloadURL();case 7:_context.t1=_context.sent;(0,_context.t0)(_context.t1);case 9:case\"end\":return _context.stop();}}},_callee);}));return function fileHandler(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:submitted?/*#__PURE__*/_jsx(\"h1\",{className:\"center\",children:\"Thank you for helping\"}):/*#__PURE__*/_jsxs(\"form\",{id:\"add-pet\",className:\"col s10 m8 l6 offset-s1 offset-l3\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h4\",{className:\"center\",children:\"Add a pet\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-field\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"pet-name\",className:\"validate\",value:name,onChange:function onChange(e){return setName(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"pet-name\",children:\"Add pet name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-field\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"pet-age\",className:\"validate\",value:age,onChange:function onChange(e){return setAge(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"pet-age\",children:\"Add pet age\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-field\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"location\",className:\"validate\",value:city,onChange:function onChange(e){return setCity(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"location\",children:\"Add your city\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-field\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"phone-number\",className:\"validate\",value:phone,onChange:function onChange(e){return setPhone(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"phone-number\",children:\"Add a contact number\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-field\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",className:\"validate\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Please enter a contact email\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-field\",children:[/*#__PURE__*/_jsx(\"textarea\",{className:\"materialize-textarea validate\",id:\"pet-description\",value:description,onChange:function onChange(e){return setDescription(e.target.value);},style:{height:\"100px\"}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"pet-description\",children:\"Add a description\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"file-field input-field\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"btn color green accent-4\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Add\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:fileHandler})]}),/*#__PURE__*/_jsx(\"div\",{className:\"file-path-wrapper\",children:/*#__PURE__*/_jsx(\"input\",{className:\"file-path\",placeholder:\"Please add a pet image\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"input-field center\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn color green accent-4\",children:\"Submit\"})})]})})});};export default AddPet;","map":{"version":3,"sources":["D:/Mihai/pet-food/src/components/AddPet.js"],"names":["projectFirestore","projectStorage","useState","AddPet","name","setName","description","setDescription","age","setAge","city","setCity","phone","setPhone","email","setEmail","url","setUrl","submitted","setSubmitted","handleSubmit","e","preventDefault","collection","add","contact","avatar","fileHandler","file","target","files","fileRef","ref","put","getDownloadURL","value","height"],"mappings":"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","sourcesContent":["import {projectFirestore, projectStorage} from '../firebase/config'\r\nimport {useState} from 'react'\r\n\r\nconst AddPet = () =>{\r\n\r\n   const[name , setName] = useState(\"\")\r\n   const[description, setDescription] = useState(\"\")\r\n   const[age,setAge]= useState(\"\")\r\n   const[city,setCity]= useState(\"\")\r\n   const[phone,setPhone]= useState(\"\")\r\n   const[email,setEmail]= useState(\"\")\r\n   const[url,setUrl]= useState(null)\r\n   const [submitted,setSubmitted] = useState(false)\r\n\r\n   const handleSubmit = e =>{\r\n      e.preventDefault()\r\n      // console.log(name,description,file.name)\r\n      \r\n      projectFirestore.collection('pets').add({\r\n         name:name,\r\n         description:description,\r\n         age:age,\r\n         city:city,\r\n         contact:phone,\r\n         email:email,\r\n         avatar:url\r\n      })\r\n      setSubmitted(true)\r\n   }\r\n\r\n   const fileHandler =  async (e)=>{\r\n      const file = e.target.files[0]   \r\n      const fileRef = projectStorage.ref(file.name)\r\n      await fileRef.put(file)\r\n      setUrl(await fileRef.getDownloadURL())\r\n   \r\n   }\r\n\r\n  return(\r\n\r\n    <div className=\"container\">\r\n      <div className=\"row\">\r\n        {submitted ? (<h1 className=\"center\">Thank you for helping</h1>)\r\n        : (\r\n          <form id=\"add-pet\" className=\"col s10 m8 l6 offset-s1 offset-l3\" onSubmit={handleSubmit}>\r\n        <h4 className =\"center\">Add a pet</h4>\r\n            <div className=\"input-field\">\r\n              <input type=\"text\" id=\"pet-name\" className=\"validate\" value={name} onChange={e =>   setName(e.target.value)}></input>\r\n               <label htmlFor=\"pet-name\">Add pet name</label>\r\n             </div>\r\n            <div className=\"input-field\">\r\n              <input type=\"text\" id=\"pet-age\" className=\"validate\" value={age} onChange={e =>   setAge(e.target.value)}></input>\r\n               <label htmlFor=\"pet-age\">Add pet age</label>\r\n             </div>\r\n            <div className=\"input-field\">\r\n              <input type=\"text\" id=\"location\" className=\"validate\" value={city} onChange={e =>   setCity(e.target.value)}></input>\r\n               <label htmlFor=\"location\">Add your city</label>\r\n             </div>\r\n            <div className=\"input-field\">\r\n              <input type=\"text\" id=\"phone-number\" className=\"validate\" value={phone} onChange={e =>   setPhone(e.target.value)}></input>\r\n               <label htmlFor=\"phone-number\">Add a contact number</label>\r\n             </div>\r\n             <div className=\"input-field\">\r\n              <input type=\"email\" id=\"email\" className=\"validate\" value={email} onChange={ e => setEmail(e.target.value)}></input>\r\n              <label htmlFor=\"email\">Please enter a contact email</label>\r\n            </div>\r\n           <div className=\"input-field\">\r\n               <textarea className=\"materialize-textarea validate\" id=\"pet-description\" value={description} onChange={e => setDescription(e.target.value)} style={{height:\"100px\"}}></textarea>\r\n                <label htmlFor=\"pet-description\">Add a description</label>\r\n            </div>\r\n             <div className=\"file-field input-field\">\r\n                 <div className=\"btn color green accent-4\">\r\n                  <span>Add</span>\r\n                  <input type=\"file\" onChange={fileHandler} />\r\n                </div>\r\n                <div className=\"file-path-wrapper\">\r\n                     <input className=\"file-path\" placeholder=\"Please add a pet image\"/>\r\n                   </div>\r\n             </div>\r\n             <div className=\"input-field center\">\r\n               <button type=\"submit\" className=\"btn color green accent-4\" >Submit</button>\r\n             </div>\r\n          </form>\r\n        )\r\n      }\r\n        \r\n      </div>\r\n      \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AddPet;"]},"metadata":{},"sourceType":"module"}